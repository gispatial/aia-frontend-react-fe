{"ast":null,"code":"var _jsxFileName = \"/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/Salary.jsx\";\nimport React, { Component } from \"react\";\nimport \"./Salary.css\";\nimport axios from \"axios\";\nimport SalaryTable from \"./SalaryTable.jsx\";\nimport SalaryForm from \"./SalaryForm.jsx\";\nimport SalaryFormEdit from \"./SalaryFormEdit.jsx\";\n\nclass Salary extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      table: true,\n      editForm: false\n    };\n\n    this.handleSalarySubmit = event => {\n      event.preventDefault();\n\n      if (!(event.target[3].value == event.target[4].value)) {\n        window.alert(\"The bank account number you entered does not match \");\n      } else {\n        console.log(\"id\", event.target[0].value, event.target[1].value);\n        this.setState({\n          table: true\n        });\n        let body = {\n          // Status:this.state.editFormStatus,\n          // DateOfJoining: { type: Date, required: true },\n          // TerminateDate: { type: Date },\n          // SalaryName: event.target[0].value,\n          // Address: event.target[1].value,\n          // CityID:event.target[4].value,\n          // PostalCode: event.target[5].value,\n          // Website: event.target[6].value,\n          // Email: event.target[7].value,\n          // ContactPerson: event.target[8].value,\n          // ContactNo: event.target[9].value,\n          // FaxNo: event.target[10].value,\n          // PanNo: event.target[11].value,\n          // GSTNo: event.target[12].value,\n          // CINNo: event.target[13].value,  \n          BasicSalary: event.target[1].value,\n          BankName: event.target[2].value,\n          AccountNo: event.target[3].value,\n          AccountHolderName: event.target[5].value,\n          IFSCcode: event.target[6].value,\n          TaxDeduction: event.target[7].value\n        };\n        axios.post(process.env.REACT_APP_API_URL + \"/api/salary/\" + event.target[0].value, body, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }).then(res => {\n          this.setState({\n            table: false\n          });\n          this.setState({\n            table: true\n          });\n        }).catch(err => {\n          console.log(err);\n          console.log(err.response);\n\n          if (err.response.status == 403) {\n            window.alert(err.response.data);\n          }\n        });\n      }\n    };\n\n    this.handleAddSalary = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: false\n      });\n    };\n\n    this.handleEditSalary = e => {\n      console.log(e);\n      console.log(\"clicked6\");\n      this.setState({\n        editForm: true\n      });\n      this.setState({\n        editData: e\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleEditFormClose = () => {\n      console.log(\"clicked5\");\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleSalaryEditUpdate = (info, newInfo) => {\n      console.log(\"eeeeeeeeeeeeeeeeeeeeddddddddddddddddddddddddd\");\n      newInfo.preventDefault();\n\n      if (!(newInfo.target[3].value == newInfo.target[4].value)) {\n        window.alert(\"The bank account number you entered does not match \");\n      } else {\n        let body = {\n          // Status:this.state.editFormStatus,\n          // DateOfJoining: { type: Date, required: true },\n          // TerminateDate: { type: Date },\n          // SalaryName: event.target[0].value,\n          // Address: event.target[1].value,\n          // CityID:event.target[4].value,\n          // PostalCode: event.target[5].value,\n          // Website: event.target[6].value,\n          // Email: event.target[7].value,\n          // ContactPerson: event.target[8].value,\n          // ContactNo: event.target[9].value,\n          // FaxNo: event.target[10].value,\n          // PanNo: event.target[11].value,\n          // GSTNo: event.target[12].value,\n          // CINNo: event.target[13].value,  \n          BasicSalary: newInfo.target[1].value,\n          BankName: newInfo.target[2].value,\n          AccountNo: newInfo.target[3].value,\n          AccountHolderName: newInfo.target[5].value,\n          IFSCcode: newInfo.target[6].value,\n          TaxDeduction: newInfo.target[7].value\n        };\n        console.log(\"update\", body);\n        axios.put(process.env.REACT_APP_API_URL + \"/api/salary/\" + info[\"salary\"][0][\"_id\"], body, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }).then(res => {\n          this.setState({\n            table: false\n          });\n          this.setState({\n            table: true\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n        this.setState({\n          editForm: false\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }\n    }, this.state.table ? this.state.editForm ? /*#__PURE__*/React.createElement(SalaryFormEdit, {\n      onSalaryEditUpdate: this.handleSalaryEditUpdate,\n      onFormEditClose: this.handleEditFormClose,\n      editData: this.state.editData,\n      onGenderChange: this.handleEditFormGenderChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(SalaryTable, {\n      onAddSalary: this.handleAddSalary,\n      onEditSalary: this.handleEditSalary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(SalaryForm, {\n      onSalarySubmit: this.handleSalarySubmit,\n      onFormClose: this.handleFormClose,\n      onGenderChange: this.handleAddFormGenderChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default Salary;","map":{"version":3,"sources":["/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/Salary.jsx"],"names":["React","Component","axios","SalaryTable","SalaryForm","SalaryFormEdit","Salary","state","table","editForm","handleSalarySubmit","event","preventDefault","target","value","window","alert","console","log","setState","body","BasicSalary","BankName","AccountNo","AccountHolderName","IFSCcode","TaxDeduction","post","process","env","REACT_APP_API_URL","headers","authorization","localStorage","getItem","then","res","catch","err","response","status","data","handleAddSalary","handleEditSalary","e","editData","handleFormClose","handleEditFormClose","handleSalaryEditUpdate","info","newInfo","put","render","handleEditFormGenderChange","handleAddFormGenderChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Salary.css\";\nimport axios from \"axios\";\nimport SalaryTable from \"./SalaryTable.jsx\";\nimport SalaryForm from \"./SalaryForm.jsx\";\nimport SalaryFormEdit from \"./SalaryFormEdit.jsx\";\nclass Salary extends Component {\n  state = {\n    table: true,\n    editForm: false,\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.table ? (\n          this.state.editForm ? (\n            <SalaryFormEdit\n              onSalaryEditUpdate={this.handleSalaryEditUpdate}\n              onFormEditClose={this.handleEditFormClose}\n              editData={this.state.editData}\n              onGenderChange={this.handleEditFormGenderChange}\n            />\n          ) : (\n            <SalaryTable\n              onAddSalary={this.handleAddSalary}\n              onEditSalary={this.handleEditSalary}              \n            />\n          )\n        ) : (\n          <SalaryForm\n            onSalarySubmit={this.handleSalarySubmit}\n            onFormClose={this.handleFormClose}\n            onGenderChange={this.handleAddFormGenderChange}\n          />\n        )}    \n        </React.Fragment>\n    );\n  }\n  handleSalarySubmit = event => {\n        event.preventDefault();\n        if(!(event.target[3].value==event.target[4].value)){\n              window.alert(\"The bank account number you entered does not match \")\n        }\n        else{\n\n          console.log(\"id\", event.target[0].value, event.target[1].value);\n          this.setState({ table: true });\n      \n          let body = {     \n            // Status:this.state.editFormStatus,\n            \n        \n        // DateOfJoining: { type: Date, required: true },\n        // TerminateDate: { type: Date },\n      \n      \n            // SalaryName: event.target[0].value,\n            // Address: event.target[1].value,\n            // CityID:event.target[4].value,\n            // PostalCode: event.target[5].value,\n            // Website: event.target[6].value,\n            // Email: event.target[7].value,\n            // ContactPerson: event.target[8].value,\n            // ContactNo: event.target[9].value,\n            // FaxNo: event.target[10].value,\n            // PanNo: event.target[11].value,\n            // GSTNo: event.target[12].value,\n            // CINNo: event.target[13].value,  \n           \n            BasicSalary:  event.target[1].value,\n            BankName:event.target[2].value,\n            AccountNo: event.target[3].value,\n            AccountHolderName:event.target[5].value,\n            IFSCcode: event.target[6].value,\n            TaxDeduction: event.target[7].value,\n          };\n          axios\n            .post(process.env.REACT_APP_API_URL + \"/api/salary/\"+event.target[0].value, body, {\n              headers: {\n                authorization: localStorage.getItem(\"token\") || \"\"\n              }\n            })\n            .then(res => {\n              this.setState({ table: false });\n              this.setState({ table: true });\n            })\n            .catch(err => {\n              console.log(err);\n          console.log(err.response);\n          if(err.response.status==403){\n            window.alert(err.response.data) ;}\n            });\n        }\n  };\n  handleAddSalary = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: false });\n  };\n  handleEditSalary = e => {\n    console.log(e);\n    console.log(\"clicked6\");\n    this.setState({ editForm: true });\n    this.setState({ editData: e });\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleEditFormClose = () => {\n    console.log(\"clicked5\");\n    this.setState({ editForm: false });\n  };\n\n  handleSalaryEditUpdate = (info, newInfo) => {\nconsole.log(\"eeeeeeeeeeeeeeeeeeeeddddddddddddddddddddddddd\")\n    newInfo.preventDefault();\n    if(!(newInfo.target[3].value==newInfo.target[4].value)){\n      window.alert(\"The bank account number you entered does not match \")\n}\nelse{\n    let body = {     \n      // Status:this.state.editFormStatus,\n      \n  \n  // DateOfJoining: { type: Date, required: true },\n  // TerminateDate: { type: Date },\n\n\n      // SalaryName: event.target[0].value,\n      // Address: event.target[1].value,\n      // CityID:event.target[4].value,\n      // PostalCode: event.target[5].value,\n      // Website: event.target[6].value,\n      // Email: event.target[7].value,\n      // ContactPerson: event.target[8].value,\n      // ContactNo: event.target[9].value,\n      // FaxNo: event.target[10].value,\n      // PanNo: event.target[11].value,\n      // GSTNo: event.target[12].value,\n      // CINNo: event.target[13].value,  \n      BasicSalary:  newInfo.target[1].value,\n      BankName:newInfo.target[2].value,\n      AccountNo: newInfo.target[3].value,\n      AccountHolderName:newInfo.target[5].value,\n      IFSCcode: newInfo.target[6].value,\n      TaxDeduction: newInfo.target[7].value,      \n    };\n    console.log(\"update\", body);\n    axios\n      .put(\n        process.env.REACT_APP_API_URL + \"/api/salary/\" + info[\"salary\"][0][\"_id\"],\n        body, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }\n      )\n      .then(res => {\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.setState({ editForm: false });\n  }\n  };\n\n}\n\nexport default Salary;\n"]},"metadata":{},"sourceType":"module"}