{"ast":null,"code":"var _jsxFileName = \"/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/employee/WorkExperienceTable.jsx\";\nimport React, { Component } from \"react\";\nimport \"./WorkExperienceTable.css\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTrash, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { RingLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n`;\n\nclass WorkExperienceTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      workExperienceData: [],\n      loading: true,\n      columnDefs: [{\n        headerName: \"Company Name\",\n        field: \"CompanyName\",\n        sortable: true // width: 150,\n        // filter: true ,\n\n      }, {\n        headerName: \"Designation\",\n        field: \"Designation\",\n        sortable: true // width: 150,\n        // filter: true ,\n\n      }, {\n        headerName: \"FromDate\",\n        field: \"FromDate\",\n        sortable: true,\n        type: [\"dateColumn\"],\n        filter: \"agDateColumnFilter\" // width: 150,\n        // filter: true ,\n\n      }, {\n        headerName: \"ToDate\",\n        field: \"ToDate\",\n        sortable: true,\n        type: [\"dateColumn\"],\n        filter: \"agDateColumnFilter\" // width: 150,\n        // filter: true ,\n\n      }, {\n        headerName: \"\",\n        field: \"edit\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderEditButton.bind(this)\n      }, {\n        headerName: \"\",\n        field: \"delete\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderButton.bind(this)\n      }],\n      rowData: [],\n      defaultColDef: {\n        resizable: true,\n        width: 295,\n        filter: \"agTextColumnFilter\" // filter: true ,\n\n      },\n      getRowHeight: function (params) {\n        return 35;\n      }\n    };\n    this.workExperienceObj = [];\n    this.rowDataT = [];\n\n    this.loadWorkExperienceData = () => {\n      axios.get(process.env.REACT_APP_API_URL + \"/api/work-experience/\" + this.props.data[\"_id\"], {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(response => {\n        this.workExperienceObj = response.data;\n        console.log(\"response\", response.data);\n        this.setState({\n          workExperienceData: response.data\n        });\n        this.setState({\n          loading: false\n        });\n        this.rowDataT = []; // let data=this.educationObj.education[\"0\"];\n\n        this.workExperienceObj.workExperience.map(data => {\n          let temp = {\n            data,\n            CompanyName: data[\"CompanyName\"],\n            Designation: data[\"Designation\"],\n            FromDate: data[\"FromDate\"].slice(0, 10),\n            ToDate: data[\"ToDate\"].slice(0, 10)\n          };\n          this.rowDataT.push(temp);\n        });\n        this.setState({\n          rowData: this.rowDataT\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onWorkExperienceDelete = (e1, e2) => {\n      console.log(e1, e2);\n\n      if (window.confirm(\"Are you sure to delete this record? \") == true) {\n        axios.delete(process.env.REACT_APP_API_URL + \"/api/work-experience/\" + e1 + \"/\" + e2, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }).then(res => {\n          this.componentDidMount();\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadWorkExperienceData();\n  }\n\n  renderButton(params) {\n    console.log(params);\n\n    if (this.props.back) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 32\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      onClick: () => this.onWorkExperienceDelete(this.props.data[\"_id\"], params.data.data[\"_id\"]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    });\n  }\n\n  renderEditButton(params) {\n    console.log(params);\n\n    if (this.props.back) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 32\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEdit,\n      onClick: () => this.props.onEditWorkExperience(params.data.data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"table-outer-div-scroll\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"role-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, \"Employee Work Experience Details \", this.props.back ? \"of \" + this.props.data[\"FirstName\"] + \" \" + this.props.data[\"LastName\"] : \"\"), this.props.back ? /*#__PURE__*/React.createElement(Link, {\n      to: \"/hr/employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      id: \"add-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 10\n      }\n    }, \"Back\")) : /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      id: \"add-button\",\n      onClick: this.props.onAddWorkExperience,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      id: \"plus-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }), \"Add\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"clear-both\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }), !this.state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"table-div\",\n      className: \"ag-theme-balham\" //   style={\n      //     {\n      //     height: \"500px\",\n      //     width: \"100%\"\n      //   }\n      // }\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(AgGridReact, {\n      columnDefs: this.state.columnDefs,\n      defaultColDef: this.state.defaultColDef,\n      columnTypes: this.state.columnTypes,\n      rowData: this.state.rowData // floatingFilter={true}\n      // onGridReady={this.onGridReady}\n      ,\n      pagination: true,\n      paginationPageSize: 10,\n      getRowHeight: this.state.getRowHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 5\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loading-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(RingLoader, {\n      css: override,\n      sizeUnit: \"px\",\n      size: 50,\n      color: \"#0000ff\",\n      loading: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 5\n      }\n    })));\n  }\n\n}\n\nexport default WorkExperienceTable;","map":{"version":3,"sources":["/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/employee/WorkExperienceTable.jsx"],"names":["React","Component","axios","FontAwesomeIcon","faPlus","faTrash","faEdit","RingLoader","css","Button","Link","AgGridReact","override","WorkExperienceTable","state","workExperienceData","loading","columnDefs","headerName","field","sortable","type","filter","width","cellRendererFramework","renderEditButton","bind","renderButton","rowData","defaultColDef","resizable","getRowHeight","params","workExperienceObj","rowDataT","loadWorkExperienceData","get","process","env","REACT_APP_API_URL","props","data","headers","authorization","localStorage","getItem","then","response","console","log","setState","workExperience","map","temp","CompanyName","Designation","FromDate","slice","ToDate","push","catch","error","onWorkExperienceDelete","e1","e2","window","confirm","delete","res","componentDidMount","err","back","onEditWorkExperience","render","onAddWorkExperience","columnTypes"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./WorkExperienceTable.css\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTrash, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { RingLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nimport { Button } from \"react-bootstrap\";\nimport {  Link } from \"react-router-dom\";\n\n\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\n\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n`;\n\nclass WorkExperienceTable extends Component {\n  state = {\n    workExperienceData: [],\n    loading: true,\n    columnDefs: [\n   \n      {\n        headerName: \"Company Name\",\n        field: \"CompanyName\",\n        sortable: true,\n        // width: 150,\n        // filter: true ,\n      },\n      {\n        headerName: \"Designation\",\n        field: \"Designation\",\n        sortable: true,\n        // width: 150,\n        // filter: true ,\n      },\n      {\n        headerName: \"FromDate\",\n        field: \"FromDate\",\n        sortable: true,\n        type: [\"dateColumn\"],\n        filter: \"agDateColumnFilter\",\n        // width: 150,\n        // filter: true ,\n      },\n      {\n        headerName: \"ToDate\",\n        field: \"ToDate\",\n        sortable: true,\n        type: [\"dateColumn\"],\n        filter: \"agDateColumnFilter\",\n        // width: 150,\n        // filter: true ,\n      },\n      \n\n      {\n        headerName: \"\",\n        field: \"edit\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderEditButton.bind(this)\n      },\n      {\n        headerName: \"\",\n        field: \"delete\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderButton.bind(this)\n      }\n    ],\n    rowData: [],\n    \n    defaultColDef: {\n      resizable: true,\n      width: 295,\n      filter: \"agTextColumnFilter\"\n      // filter: true ,\n    },\n    getRowHeight: function(params) {\n      return 35;\n    }\n  };\n  workExperienceObj = [];\n  rowDataT = [];\n\n\n  loadWorkExperienceData = () => {\n    axios\n      .get(\n        process.env.REACT_APP_API_URL + \"/api/work-experience/\" + this.props.data[\"_id\"], {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }\n      )\n      .then(response => {\n        this.workExperienceObj = response.data;\n        console.log(\"response\", response.data);\n        this.setState({ workExperienceData: response.data });\n        this.setState({ loading: false });\n        this.rowDataT = [];\n        // let data=this.educationObj.education[\"0\"];\n        this.workExperienceObj.workExperience.map(data => {\n          let temp = {\n            data,\n            CompanyName:data[\"CompanyName\"],\n            Designation:data[\"Designation\"],\n            FromDate:data[\"FromDate\"].slice(0, 10),\n            ToDate:data[\"ToDate\"].slice(0, 10),\n            \n          };\n\n          this.rowDataT.push(temp);\n        });\n        this.setState({ rowData: this.rowDataT });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onWorkExperienceDelete = (e1, e2) => {\n    console.log(e1, e2);\n    if (window.confirm(\"Are you sure to delete this record? \") == true) {\n      axios\n        .delete(process.env.REACT_APP_API_URL + \"/api/work-experience/\" + e1 + \"/\" + e2, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        })\n        .then(res => {\n          this.componentDidMount();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  };\n  componentDidMount() {\n    this.loadWorkExperienceData();\n  }\n  renderButton(params) {\n    console.log(params);\n    if(this.props.back){return <React.Fragment/>}\n    return (\n      <FontAwesomeIcon\n        icon={faTrash}\n        onClick={() =>\n          this.onWorkExperienceDelete(this.props.data[\"_id\"],params.data.data[\"_id\"])\n        }\n      />\n    );\n  }\n  renderEditButton(params) {\n    console.log(params);\n    if(this.props.back){return <React.Fragment/>}\n    return (\n      <FontAwesomeIcon\n        icon={faEdit}\n        onClick={() => this.props.onEditWorkExperience(params.data.data)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div id=\"table-outer-div-scroll\">\n        <h2 id=\"role-title\">Employee Work Experience Details {this.props.back?\"of \" +this.props.data[\"FirstName\"]+\" \"+this.props.data[\"LastName\"]:\"\"}</h2>\n\n        {this.props.back?(<Link to=\"/hr/employee\">\n         <Button\n          variant=\"primary\"\n          id=\"add-button\"\n        >\n          Back\n        </Button>\n        </Link>):<Button\n          variant=\"primary\"\n          id=\"add-button\"\n          onClick={this.props.onAddWorkExperience}\n        >\n          <FontAwesomeIcon icon={faPlus} id=\"plus-icon\" />\n          Add\n        </Button>}\n\n        \n\n        <div id=\"clear-both\" />\n\n{!this.state.loading ? (\n  <div\n    id=\"table-div\"\n    className=\"ag-theme-balham\"\n    //   style={\n    //     {\n    //     height: \"500px\",\n    //     width: \"100%\"\n    //   }\n    // }\n  >\n    <AgGridReact\n      columnDefs={this.state.columnDefs}\n      defaultColDef={this.state.defaultColDef}\n      columnTypes={this.state.columnTypes}\n      rowData={this.state.rowData}\n      // floatingFilter={true}\n      // onGridReady={this.onGridReady}\n      pagination={true}\n      paginationPageSize={10}\n      getRowHeight={this.state.getRowHeight}\n    />\n  </div>\n) : (\n  <div id=\"loading-bar\">\n    <RingLoader\n      css={override}\n      sizeUnit={\"px\"}\n      size={50}\n      color={\"#0000ff\"}\n      loading={true}\n    />\n  </div>\n)}\n\n\n      </div>\n    );\n  }\n}\n\nexport default WorkExperienceTable;\n"]},"metadata":{},"sourceType":"module"}