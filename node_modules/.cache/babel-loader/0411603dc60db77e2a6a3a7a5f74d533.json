{"ast":null,"code":"var _jsxFileName = \"/Users/crocslut/Documents/Git/aia/aia-assessment-nodejs-fe/src/component/Employee.jsx\";\nimport React, { Component } from \"react\";\nimport \"./Employee.css\";\nimport axios from \"axios\";\nimport EmployeeTable from \"./EmployeeTable.jsx\";\nimport EmployeeForm from \"./EmployeeForm.jsx\";\nimport EmployeeFormEdit from \"./EmployeeFormEdit.jsx\";\nimport EmployeeInfo from \"./EmployeeInfo.jsx\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport PersonalInfo from \"./employee/PersonalInfo.jsx\";\nimport Education from \"./employee/Education.jsx\";\nimport FamilyInfo from \"./employee/FamilyInfo.jsx\";\nimport WorkExperience from \"./employee/WorkExperience.jsx\";\n\nclass Employee extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      table: true,\n      editForm: false,\n      editData: {},\n      addFormGender: \"\",\n      editFormGender: \"\",\n      EmpInfo: {},\n      EmpInfoBool: false\n    };\n\n    this.handleEmpInfo = e => {\n      console.log(\"info\", e); // history.push(\"/hr/employee/form-edit\");\n\n      this.setState({\n        EmpInfo: e\n      });\n      this.setState({\n        EmpInfoBool: true\n      });\n    };\n\n    this.handleBack = () => {\n      console.log(\"back\");\n      this.setState({\n        EmpInfoBool: false\n      });\n    };\n\n    this.handleEmployeeSubmit = event => {\n      event.preventDefault();\n      console.log(\"id\", event.target[0].value, event.target[1].value);\n      this.setState({\n        table: true\n      });\n      let body = {\n        Email: event.target[0].value,\n        Password: event.target[1].value,\n        Account: event.target[2].value,\n        RoleID: event.target[3].value,\n        Gender: this.state.addFormGender,\n        FirstName: event.target[6].value,\n        MiddleName: event.target[7].value,\n        LastName: event.target[8].value,\n        DOB: event.target[9].value,\n        ContactNo: event.target[10].value,\n        EmployeeCode: event.target[11].value,\n        DepartmentID: event.target[12].value,\n        PositionID: event.target[13].value,\n        DateOfJoining: event.target[14].value,\n        TerminateDate: event.target[15].value\n      };\n      axios.post(process.env.REACT_APP_API_URL + \"/api/employee\", body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleAddEmployee = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: false\n      });\n    };\n\n    this.handleEditEmployee = e => {\n      console.log(e);\n      console.log(\"clicked6\");\n      this.setState({\n        editForm: true\n      });\n      this.setState({\n        editData: e\n      });\n      this.setState({\n        editFormGender: e[\"Gender\"]\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleEditFormClose = () => {\n      console.log(\"clicked5\");\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleEmployeeEditUpdate = (info, newInfo) => {\n      newInfo.preventDefault();\n      let body = {\n        Email: newInfo.target[0].value,\n        // Password: newInfo.target[1].value,\n        Account: newInfo.target[1].value,\n        RoleID: newInfo.target[2].value,\n        Gender: this.state.editFormGender,\n        FirstName: newInfo.target[5].value,\n        MiddleName: newInfo.target[6].value,\n        LastName: newInfo.target[7].value,\n        DOB: newInfo.target[8].value,\n        ContactNo: newInfo.target[9].value,\n        EmployeeCode: newInfo.target[10].value,\n        DepartmentID: newInfo.target[11].value,\n        PositionID: newInfo.target[12].value,\n        DateOfJoining: newInfo.target[13].value,\n        TerminateDate: newInfo.target[14].value\n      };\n      console.log(\"update\", body);\n      axios.put(process.env.REACT_APP_API_URL + \"/api/employee/\" + info[\"_id\"], body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleAddFormGenderChange = e => {\n      // console.log(e.currentTarget.value);\n      this.setState({\n        addFormGender: e.currentTarget.value\n      });\n    };\n\n    this.handleEditFormGenderChange = e => {\n      // console.log(e.currentTarget.value);\n      // console.log(\"ggggggggggggggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeennnnnnnnnnnnnnnnnnnnnnnnn\")\n      this.setState({\n        editFormGender: e.currentTarget.value\n      });\n    };\n  }\n\n  // redirectF=()=>{\n  // //  if(this.state.EmpInfo==true){\n  //   this.setState({EmpInfo:false})\n  //   console.log(\"rrrrrrrrrrrrrrrrrrrrrrrrrrrr\");\n  //   return <Redirect to=\"hr/employee/info\" />\n  // //  }\n  // }\n  render() {\n    // if (this.state.EmpInfo) {\n    //   this.setState({EmpInfo:false});\n    //   return <Redirect to=\"hr/employee/info\" />\n    // }\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee\",\n      render: props => /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, this.state.table ? this.state.editForm ? /*#__PURE__*/React.createElement(EmployeeFormEdit, {\n        onEmployeeEditUpdate: this.handleEmployeeEditUpdate,\n        onFormEditClose: this.handleEditFormClose,\n        editData: this.state.editData,\n        onGenderChange: this.handleEditFormGenderChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 19\n        }\n      }) : !this.state.EmpInfoBool ? /*#__PURE__*/React.createElement(EmployeeTable, {\n        onAddEmployee: this.handleAddEmployee,\n        onEditEmployee: this.handleEditEmployee,\n        onEmpInfo: this.handleEmpInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 47\n        }\n      }) : /*#__PURE__*/React.createElement(EmployeeInfo, {\n        data: this.state.EmpInfo,\n        onBack: this.handleBack,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 26\n        }\n      }) : /*#__PURE__*/React.createElement(EmployeeForm, {\n        onEmployeeSubmit: this.handleEmployeeSubmit,\n        onFormClose: this.handleFormClose,\n        onGenderChange: this.handleAddFormGenderChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/personal-info\",\n      render: props => /*#__PURE__*/React.createElement(PersonalInfo, {\n        data: this.state.EmpInfo,\n        back: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/education\",\n      render: props => /*#__PURE__*/React.createElement(Education, {\n        data: this.state.EmpInfo,\n        back: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/family-info\",\n      render: props => /*#__PURE__*/React.createElement(FamilyInfo, {\n        data: this.state.EmpInfo,\n        back: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/work-experience\",\n      render: props => /*#__PURE__*/React.createElement(WorkExperience, {\n        data: this.state.EmpInfo,\n        back: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Employee;","map":{"version":3,"sources":["/Users/crocslut/Documents/Git/aia/aia-assessment-nodejs-fe/src/component/Employee.jsx"],"names":["React","Component","axios","EmployeeTable","EmployeeForm","EmployeeFormEdit","EmployeeInfo","HashRouter","Router","Route","PersonalInfo","Education","FamilyInfo","WorkExperience","Employee","state","table","editForm","editData","addFormGender","editFormGender","EmpInfo","EmpInfoBool","handleEmpInfo","e","console","log","setState","handleBack","handleEmployeeSubmit","event","preventDefault","target","value","body","Email","Password","Account","RoleID","Gender","FirstName","MiddleName","LastName","DOB","ContactNo","EmployeeCode","DepartmentID","PositionID","DateOfJoining","TerminateDate","post","process","env","REACT_APP_API_URL","headers","authorization","localStorage","getItem","then","res","catch","err","handleAddEmployee","handleEditEmployee","handleFormClose","handleEditFormClose","handleEmployeeEditUpdate","info","newInfo","put","handleAddFormGenderChange","currentTarget","handleEditFormGenderChange","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Employee.css\";\nimport axios from \"axios\";\nimport EmployeeTable from \"./EmployeeTable.jsx\";\nimport EmployeeForm from \"./EmployeeForm.jsx\";\nimport EmployeeFormEdit from \"./EmployeeFormEdit.jsx\";\nimport EmployeeInfo from \"./EmployeeInfo.jsx\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport PersonalInfo from \"./employee/PersonalInfo.jsx\";\nimport Education from \"./employee/Education.jsx\";\nimport FamilyInfo from \"./employee/FamilyInfo.jsx\";\nimport WorkExperience from \"./employee/WorkExperience.jsx\";\n\n\n\n\n\n\nclass Employee extends Component {\n  state = {\n    table: true,\n    editForm: false,\n    editData: {},\n    addFormGender: \"\",\n    editFormGender: \"\",\n    EmpInfo: {},\n    EmpInfoBool: false,\n\n  };\n  // redirectF=()=>{\n  // //  if(this.state.EmpInfo==true){\n  //   this.setState({EmpInfo:false})\n  //   console.log(\"rrrrrrrrrrrrrrrrrrrrrrrrrrrr\");\n  //   return <Redirect to=\"hr/employee/info\" />\n  // //  }\n  // }\n\n  render() {\n    // if (this.state.EmpInfo) {\n    //   this.setState({EmpInfo:false});\n    //   return <Redirect to=\"hr/employee/info\" />\n    // }\n\n    return (\n      <Router>\n        <Route\n          exact\n          path=\"/hr/employee\"\n          render={props =>\n            <React.Fragment>\n              {/* {this.redirectF} */}\n              {/* {this.state.EmpInfo?this.redirectF:<React.Fragment />} */}\n              {this.state.table ? (\n                this.state.editForm ? (\n                  <EmployeeFormEdit\n                    onEmployeeEditUpdate={this.handleEmployeeEditUpdate}\n                    onFormEditClose={this.handleEditFormClose}\n                    editData={this.state.editData}\n                    onGenderChange={this.handleEditFormGenderChange}\n                  />\n                ) : (\n\n\n                    !this.state.EmpInfoBool ? <EmployeeTable\n                      onAddEmployee={this.handleAddEmployee}\n                      onEditEmployee={this.handleEditEmployee}\n                      onEmpInfo={this.handleEmpInfo}\n                    /> : <EmployeeInfo data={this.state.EmpInfo} onBack={this.handleBack} />\n\n                  )\n              ) : (\n                  <EmployeeForm\n                    onEmployeeSubmit={this.handleEmployeeSubmit}\n                    onFormClose={this.handleFormClose}\n                    onGenderChange={this.handleAddFormGenderChange}\n                  />\n                )}\n            </React.Fragment>\n          }\n        />\n\n        {/* <Route\n                   exact\n                   path=\"/hr/employee/info\"\n                   render={props => <EmployeeInfo data={this.state.EmpInfo} onBack={this.handleBack}/>}\n                 /> */}\n        <Route\n          exact\n          path=\"/hr/employee/info/personal-info\"\n          render={props => <PersonalInfo data={this.state.EmpInfo} back={true} />}\n        />\n        <Route\n          exact\n          path=\"/hr/employee/info/education\"\n          render={props => <Education data={this.state.EmpInfo} back={true} />}\n        />\n        <Route\n          exact\n          path=\"/hr/employee/info/family-info\"\n          render={props => <FamilyInfo data={this.state.EmpInfo} back={true} />}\n        />\n        <Route\n          exact\n          path=\"/hr/employee/info/work-experience\"\n          render={props => <WorkExperience data={this.state.EmpInfo} back={true} />}\n        />\n\n\n      </Router>\n    );\n  }\n  handleEmpInfo = e => {\n    console.log(\"info\", e);\n    // history.push(\"/hr/employee/form-edit\");\n    this.setState({ EmpInfo: e });\n    this.setState({ EmpInfoBool: true })\n  };\n  handleBack = () => {\n    console.log(\"back\");\n    this.setState({ EmpInfoBool: false })\n  };\n  handleEmployeeSubmit = event => {\n    event.preventDefault();\n    console.log(\"id\", event.target[0].value, event.target[1].value);\n    this.setState({ table: true });\n\n    let body = {\n      Email: event.target[0].value,\n      Password: event.target[1].value,\n      Account: event.target[2].value,\n      RoleID: event.target[3].value,\n      Gender: this.state.addFormGender,\n      FirstName: event.target[6].value,\n      MiddleName: event.target[7].value,\n      LastName: event.target[8].value,\n      DOB: event.target[9].value,\n      ContactNo: event.target[10].value,\n      EmployeeCode: event.target[11].value,\n      DepartmentID: event.target[12].value,\n      PositionID: event.target[13].value,\n      DateOfJoining: event.target[14].value,\n      TerminateDate: event.target[15].value,\n    };\n    axios\n      .post(process.env.REACT_APP_API_URL + \"/api/employee\", body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      })\n      .then(res => {\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n  handleAddEmployee = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: false });\n  };\n  handleEditEmployee = e => {\n    console.log(e);\n    console.log(\"clicked6\");\n    this.setState({ editForm: true });\n    this.setState({ editData: e });\n    this.setState({ editFormGender: e[\"Gender\"] })\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleEditFormClose = () => {\n    console.log(\"clicked5\");\n    this.setState({ editForm: false });\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleEmployeeEditUpdate = (info, newInfo) => {\n    newInfo.preventDefault();\n    let body = {\n      Email: newInfo.target[0].value,\n      // Password: newInfo.target[1].value,\n      Account: newInfo.target[1].value,\n      RoleID: newInfo.target[2].value,\n      Gender: this.state.editFormGender,\n      FirstName: newInfo.target[5].value,\n      MiddleName: newInfo.target[6].value,\n      LastName: newInfo.target[7].value,\n      DOB: newInfo.target[8].value,\n      ContactNo: newInfo.target[9].value,\n      EmployeeCode: newInfo.target[10].value,\n      DepartmentID: newInfo.target[11].value,\n      PositionID: newInfo.target[12].value,\n      DateOfJoining: newInfo.target[13].value,\n      TerminateDate: newInfo.target[14].value,\n    };\n    console.log(\"update\", body);\n    axios\n      .put(\n        process.env.REACT_APP_API_URL + \"/api/employee/\" + info[\"_id\"],\n        body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }\n      )\n      .then(res => {\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.setState({ editForm: false });\n  };\n  handleAddFormGenderChange = (e) => {\n    // console.log(e.currentTarget.value);\n    this.setState({\n      addFormGender: e.currentTarget.value\n    });\n\n  };\n  handleEditFormGenderChange = (e) => {\n    // console.log(e.currentTarget.value);\n    // console.log(\"ggggggggggggggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeennnnnnnnnnnnnnnnnnnnnnnnn\")\n    this.setState({\n      editFormGender: e.currentTarget.value\n    });\n\n  };\n}\n\nexport default Employee;\n\n"]},"metadata":{},"sourceType":"module"}