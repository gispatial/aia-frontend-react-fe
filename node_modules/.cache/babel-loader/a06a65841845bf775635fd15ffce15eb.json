{"ast":null,"code":"var _jsxFileName = \"/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/CompanyTable.jsx\";\nimport React, { Component } from \"react\";\nimport \"./AdminCompanyTable.css\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTrash, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { RingLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nimport { Button } from \"react-bootstrap\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n`;\n\nclass AdminCompanyTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      companyData: [],\n      loading: true,\n      columnDefs: [{\n        headerName: \"Company Name\",\n        field: \"CompanyName\",\n        sortable: true,\n        width: 150 // filter: true ,\n\n      }, {\n        headerName: \"Address\",\n        field: \"Address\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"Country\",\n        field: \"CountryName\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"State\",\n        field: \"StateName\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"City\",\n        field: \"CityName\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"Postal Code\",\n        field: \"PostalCode\",\n        sortable: true,\n        width: 120 // filter: true ,\n\n      }, {\n        headerName: \"Website\",\n        field: \"Website\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"Email\",\n        field: \"Email\",\n        sortable: true,\n        width: 150 // filter: true ,\n\n      }, {\n        headerName: \"Contact Person\",\n        field: \"ContactPerson\",\n        sortable: true,\n        width: 140 // filter: true ,\n\n      }, {\n        headerName: \"Contact No\",\n        field: \"ContactNo\",\n        sortable: true,\n        width: 120 // filter: true ,\n\n      }, {\n        headerName: \"Fax No\",\n        field: \"FaxNo\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"Pan No\",\n        field: \"PanNo\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"GST No\",\n        field: \"GSTNo\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"CIN No\",\n        field: \"CINNo\",\n        sortable: true // filter: true ,\n\n      }, {\n        headerName: \"\",\n        field: \"edit\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderEditButton.bind(this)\n      }, {\n        headerName: \"\",\n        field: \"delete\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderButton.bind(this)\n      }],\n      rowData: [],\n      defaultColDef: {\n        resizable: true,\n        width: 110,\n        filter: \"agTextColumnFilter\" // filter: true ,\n\n      },\n      getRowHeight: function (params) {\n        return 35;\n      }\n    };\n    this.companyObj = [];\n    this.rowDataT = [];\n\n    this.loadCompanyData = () => {\n      axios.get(process.env.REACT_APP_API_URL + \"/api/company\", {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(response => {\n        this.companyObj = response.data;\n        console.log(\"response\", response.data);\n        this.setState({\n          companyData: response.data\n        });\n        this.setState({\n          loading: false\n        });\n        this.rowDataT = [];\n        this.companyObj.map(data => {\n          let temp = {\n            data,\n            CompanyName: data[\"CompanyName\"],\n            Address: data[\"Address\"],\n            CountryName: data[\"city\"][0][\"state\"][0][\"country\"][0][\"CountryName\"],\n            StateName: data[\"city\"][0][\"state\"][0][\"StateName\"],\n            CityName: data[\"city\"][0][\"CityName\"],\n            PostalCode: data[\"PostalCode\"],\n            Website: data[\"Website\"],\n            Email: data[\"Email\"],\n            ContactPerson: data[\"ContactPerson\"],\n            ContactNo: data[\"ContactNo\"],\n            FaxNo: data[\"FaxNo\"],\n            PanNo: data[\"PanNo\"],\n            GSTNo: data[\"GSTNo\"],\n            CINNo: data[\"CINNo\"]\n          };\n          this.rowDataT.push(temp);\n        });\n        this.setState({\n          rowData: this.rowDataT\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onCompanyDelete = e => {\n      console.log(e);\n\n      if (window.confirm(\"Are you sure to delete this record? \") == true) {\n        axios.delete(process.env.REACT_APP_API_URL + \"/api/company/\" + e, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }).then(res => {\n          this.componentDidMount();\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadCompanyData();\n  }\n\n  renderButton(params) {\n    console.log(params);\n    return /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      onClick: () => this.onCompanyDelete(params.data.data[\"_id\"]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }\n    });\n  }\n\n  renderEditButton(params) {\n    console.log(params);\n    return /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEdit,\n      onClick: () => this.props.onEditCompany(params.data.data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"table-outer-div-scroll\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"role-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }\n    }, \"Company Details\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      id: \"add-button\",\n      onClick: this.props.onAddCompany,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      id: \"plus-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }\n    }), \"Add\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"clear-both\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }\n    }), !this.state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"table-div\",\n      className: \"ag-theme-balham\" //   style={\n      //     {\n      //     height: \"500px\",\n      //     width: \"100%\"\n      //   }\n      // }\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AgGridReact, {\n      columnDefs: this.state.columnDefs,\n      defaultColDef: this.state.defaultColDef,\n      columnTypes: this.state.columnTypes,\n      rowData: this.state.rowData // floatingFilter={true}\n      // onGridReady={this.onGridReady}\n      ,\n      pagination: true,\n      paginationPageSize: 10,\n      getRowHeight: this.state.getRowHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loading-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(RingLoader, {\n      css: override,\n      sizeUnit: \"px\",\n      size: 50,\n      color: \"#0000ff\",\n      loading: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 15\n      }\n    })));\n  }\n\n}\n\nexport default AdminCompanyTable;","map":{"version":3,"sources":["/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/CompanyTable.jsx"],"names":["React","Component","axios","FontAwesomeIcon","faPlus","faTrash","faEdit","RingLoader","css","Button","AgGridReact","override","AdminCompanyTable","state","companyData","loading","columnDefs","headerName","field","sortable","width","filter","cellRendererFramework","renderEditButton","bind","renderButton","rowData","defaultColDef","resizable","getRowHeight","params","companyObj","rowDataT","loadCompanyData","get","process","env","REACT_APP_API_URL","headers","authorization","localStorage","getItem","then","response","data","console","log","setState","map","temp","CompanyName","Address","CountryName","StateName","CityName","PostalCode","Website","Email","ContactPerson","ContactNo","FaxNo","PanNo","GSTNo","CINNo","push","catch","error","onCompanyDelete","e","window","confirm","delete","res","componentDidMount","err","props","onEditCompany","render","onAddCompany","columnTypes"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./AdminCompanyTable.css\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTrash, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { RingLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nimport { Button } from \"react-bootstrap\";\n\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\n\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n`;\nclass AdminCompanyTable extends Component {\n  state = {\n    companyData: [],\n    loading: true,\n\n    columnDefs: [\n\n      {\n        headerName: \"Company Name\",\n        field: \"CompanyName\",\n        sortable: true,\n        width: 150,\n        // filter: true ,\n      },\n      {\n        headerName: \"Address\",\n        field: \"Address\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"Country\",\n        field: \"CountryName\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"State\",\n        field: \"StateName\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"City\",\n        field: \"CityName\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"Postal Code\",\n        field: \"PostalCode\",\n        sortable: true,\n\n\n        width: 120,\n        // filter: true ,\n      },\n      {\n        headerName: \"Website\",\n        field: \"Website\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"Email\",\n        field: \"Email\",\n        sortable: true,\n        width: 150,\n        // filter: true ,\n      },\n      {\n        headerName: \"Contact Person\",\n        field: \"ContactPerson\",\n        sortable: true,\n\n        width: 140,\n        // filter: true ,\n      },\n      {\n        headerName: \"Contact No\",\n        field: \"ContactNo\",\n        sortable: true,\n\n        width: 120,\n        // filter: true ,\n      },\n      {\n        headerName: \"Fax No\",\n        field: \"FaxNo\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"Pan No\",\n        field: \"PanNo\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"GST No\",\n        field: \"GSTNo\",\n        sortable: true\n        // filter: true ,\n      },\n      {\n        headerName: \"CIN No\",\n        field: \"CINNo\",\n        sortable: true\n        // filter: true ,\n      },\n\n\n      {\n        headerName: \"\",\n        field: \"edit\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderEditButton.bind(this)\n      },\n      {\n        headerName: \"\",\n        field: \"delete\",\n        filter: false,\n        width: 30,\n        cellRendererFramework: this.renderButton.bind(this)\n      }\n    ],\n    rowData: [],\n    defaultColDef: {\n      resizable: true,\n      width: 110,\n      filter: \"agTextColumnFilter\"\n      // filter: true ,\n    },\n    getRowHeight: function (params) {\n      return 35;\n    }\n\n\n  };\n  companyObj = [];\n  rowDataT = [];\n\n  loadCompanyData = () => {\n    axios\n      .get(process.env.REACT_APP_API_URL + \"/api/company\", {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      })\n      .then(response => {\n        this.companyObj = response.data;\n        console.log(\"response\", response.data);\n        this.setState({ companyData: response.data });\n        this.setState({ loading: false });\n\n        this.rowDataT = [];\n\n        this.companyObj.map(data => {\n          let temp = {\n            data,\n            CompanyName: data[\"CompanyName\"],\n            Address: data[\"Address\"],\n            CountryName: data[\"city\"][0][\"state\"][0][\"country\"][0][\n              \"CountryName\"\n            ],\n            StateName: data[\"city\"][0][\"state\"][0][\"StateName\"],\n            CityName: data[\"city\"][0][\"CityName\"],\n            PostalCode: data[\"PostalCode\"],\n            Website: data[\"Website\"],\n            Email: data[\"Email\"],\n            ContactPerson: data[\"ContactPerson\"],\n            ContactNo: data[\"ContactNo\"],\n            FaxNo: data[\"FaxNo\"],\n            PanNo: data[\"PanNo\"],\n            GSTNo: data[\"GSTNo\"],\n            CINNo: data[\"CINNo\"],\n\n          };\n\n          this.rowDataT.push(temp);\n        });\n        this.setState({ rowData: this.rowDataT });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onCompanyDelete = e => {\n    console.log(e);\n    if (window.confirm(\"Are you sure to delete this record? \") == true) {\n      axios\n        .delete(process.env.REACT_APP_API_URL + \"/api/company/\" + e, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        })\n        .then(res => {\n          this.componentDidMount();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  };\n  componentDidMount() {\n    this.loadCompanyData();\n  }\n\n  renderButton(params) {\n    console.log(params);\n    return (\n      <FontAwesomeIcon\n        icon={faTrash}\n        onClick={() =>\n          this.onCompanyDelete(params.data.data[\"_id\"])\n        }\n      />\n    );\n  }\n  renderEditButton(params) {\n    console.log(params);\n    return (\n      <FontAwesomeIcon\n        icon={faEdit}\n        onClick={() => this.props.onEditCompany(params.data.data)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div id=\"table-outer-div-scroll\">\n        <h2 id=\"role-title\">Company Details</h2>\n\n        <Button\n          variant=\"primary\"\n          id=\"add-button\"\n          onClick={this.props.onAddCompany}\n        >\n          <FontAwesomeIcon icon={faPlus} id=\"plus-icon\" />\n          Add\n        </Button>\n\n        <div id=\"clear-both\" />\n\n        {!this.state.loading ? (\n          <div\n            id=\"table-div\"\n            className=\"ag-theme-balham\"\n          //   style={\n          //     {\n          //     height: \"500px\",\n          //     width: \"100%\"\n          //   }\n          // }\n          >\n            <AgGridReact\n              columnDefs={this.state.columnDefs}\n              defaultColDef={this.state.defaultColDef}\n              columnTypes={this.state.columnTypes}\n              rowData={this.state.rowData}\n              // floatingFilter={true}\n              // onGridReady={this.onGridReady}\n              pagination={true}\n              paginationPageSize={10}\n              getRowHeight={this.state.getRowHeight}\n            />\n          </div>\n        ) : (\n            <div id=\"loading-bar\">\n              <RingLoader\n                css={override}\n                sizeUnit={\"px\"}\n                size={50}\n                color={\"#0000ff\"}\n                loading={true}\n              />\n            </div>\n          )}\n        {/*         \n        <div id=\"inner-table-div\">\n          <table id=\"role-table\">\n            <thead>\n              <tr>\n                <th width=\"6.667%\">Company Name</th>\n                <th width=\"6.667%\">Address</th>\n                <th width=\"6.667%\">Country</th>\n                <th width=\"6.667%\">State</th>\n                <th width=\"6.667%\">City</th>\n                <th width=\"6.667%\">Postal Code</th>\n                <th width=\"6.667%\">Website</th>\n                <th width=\"6.667%\">Email</th>\n                <th width=\"6.667%\">ContactPerson</th>\n                <th width=\"6.667%\">ContactNo</th>\n                <th width=\"6.667%\">FaxNo</th>\n                <th width=\"6.667%\">PanNo</th>\n                <th width=\"6.667%\">GST No</th>\n                <th width=\"6.667%\">CIN No</th>\n                <th width=\"3.33%\" />\n                <th width=\"3.33%\" />\n              </tr>\n            </thead>\n\n            {!this.state.loading ? (\n              <React.Fragment>\n                {this.companyObj.map((data, index) => (\n                  <tbody key={index}>\n                    <tr>\n                      <td>{data[\"CompanyName\"]}</td>\n                      <td>{data[\"Address\"]}</td>\n                      <td>\n                        {\n                          data[\"city\"][0][\"state\"][0][\"country\"][0][\n                            \"CountryName\"\n                          ]\n                        }\n                      </td>\n                      <td>{data[\"city\"][0][\"state\"][0][\"StateName\"]}</td>\n                      <td>{data[\"city\"][0][\"CityName\"]}</td>\n                      <td>{data[\"PostalCode\"]}</td>\n                      <td>{data[\"Website\"]}</td>\n                      <td>{data[\"Email\"]}</td>\n                      <td>{data[\"ContactPerson\"]}</td>\n                      <td>{data[\"ContactNo\"]}</td>\n                      <td>{data[\"FaxNo\"]}</td>\n                      <td>{data[\"PanNo\"]}</td>\n                      <td>{data[\"GSTNo\"]}</td>\n                      <td>{data[\"CINNo\"]}</td>\n                      <td>\n                        <FontAwesomeIcon\n                          icon={faEdit}\n                          onClick={() => this.props.onEditCompany(data)}\n                        />\n                      </td>\n                      <td>\n                        <FontAwesomeIcon\n                          icon={faTrash}\n                          onClick={() => this.onCompanyDelete(data[\"_id\"])}\n                        />\n                      </td>\n                    </tr>\n                  </tbody>\n                ))}\n                {console.log(\"final\", this.companyObj)}\n              </React.Fragment>\n            ) : (\n              <tbody>\n                <tr>\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n                  <td>\n                    <div id=\"loading-bar\">\n                      <BarLoader\n                        css={override}\n                        sizeUnit={\"px\"}\n                        size={150}\n                        color={\"#0000ff\"}\n                        loading={true}\n                      />\n                    </div>\n                  </td>\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n                  <td />\n\n                  <td />\n                  <td />\n                </tr>\n              </tbody>\n            )}\n          </table>\n        </div> */}\n      </div>\n    );\n  }\n}\n\nexport default AdminCompanyTable;\n"]},"metadata":{},"sourceType":"module"}