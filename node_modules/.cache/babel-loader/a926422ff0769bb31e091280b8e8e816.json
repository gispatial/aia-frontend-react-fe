{"ast":null,"code":"var _jsxFileName = \"/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/employee/PersonalInfoTable.jsx\";\nimport React, { Component } from \"react\";\nimport \"./PersonalInfoTable.css\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { RingLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n`;\n\nclass PersonalInfoTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      personalInfoData: [],\n      loading: true,\n      columnDefs: [{\n        headerName: \"First Name\",\n        field: \"FirstName\",\n        sortable: true,\n        // filter: true ,\n        width: 110\n      }, {\n        headerName: \"Middle Name\",\n        field: \"MiddleName\",\n        sortable: true,\n        // filter: true ,\n        width: 130\n      }, {\n        headerName: \"Last Name\",\n        field: \"LastName\",\n        sortable: true // filter: true ,\n        // width: 150,\n\n      }, {\n        headerName: \"Gender\",\n        field: \"Gender\",\n        sortable: true,\n        width: 90 // filter: true ,\n        // width: 150,\n\n      }, {\n        headerName: \"Contact No\",\n        field: \"ContactNo\",\n        sortable: true // filter: true ,\n        // width: 150,\n\n      }, {\n        headerName: \"Email\",\n        field: \"Email\",\n        sortable: true // filter: true ,\n        // width: 150,\n\n      }, {\n        headerName: \"PANcard No\",\n        field: \"PANcardNo\",\n        sortable: true // filter: true ,\n        // width: 150,\n\n      }, {\n        headerName: \"DOB\",\n        field: \"DOB\",\n        sortable: true,\n        filter: true,\n        type: [\"dateColumn\"],\n        filter: \"agDateColumnFilter\"\n      }, {\n        headerName: \"Hobbies\",\n        field: \"Hobbies\",\n        sortable: true // filter: true ,\n        // width: 150,\n\n      }, {\n        headerName: \"Present Address\",\n        field: \"PresentAddress\",\n        sortable: true,\n        // filter: true ,\n        width: 150\n      }, {\n        headerName: \"\",\n        field: \"edit\",\n        filter: false,\n        width: 30,\n        // cellRenderer:this.ageCellRendererFunc,\n        // cellRendererFramework: function(params) {\n        //   return <button OnClick={console.log(\"pa\",params)}>Test</button>;\n        // },\n        cellRendererFramework: this.renderEditButton.bind(this)\n      }],\n      rowData: [],\n      defaultColDef: {\n        resizable: true,\n        width: 120,\n        filter: \"agTextColumnFilter\" // filter: true ,\n\n      },\n      getRowHeight: function (params) {\n        return 35;\n      }\n    };\n    this.personalInfoObj = [];\n    this.rowDataT = [];\n\n    this.loadPersonalInfoData = () => {\n      axios.get(process.env.REACT_APP_API_URL + \"/api/personal-info/\" + this.props.data[\"_id\"], {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(response => {\n        this.personalInfoObj = response.data;\n        console.log(\"response\", response.data);\n        this.setState({\n          personalInfoData: response.data\n        });\n        this.setState({\n          loading: false\n        });\n        this.rowDataT = [];\n        console.log(\"personalInfoObj\", this.personalInfoObj); // this.personalInfoObj.map(data => {\n\n        let data = this.personalInfoObj;\n        let temp = {\n          data,\n          FirstName: data[\"FirstName\"] || \"Not Avaiable\",\n          MiddleName: data[\"MiddleName\"] || \"Not Avaiable\",\n          LastName: data[\"LastName\"] || \"Not Avaiable\",\n          Gender: data[\"Gender\"] || \"Not Avaiable\",\n          ContactNo: data[\"ContactNo\"] || \"Not Avaiable\",\n          Email: data[\"Email\"] || \"Not Avaiable\",\n          PANcardNo: data[\"PANcardNo\"] || \"Not Avaiable\",\n          DOB: data[\"DOB\"].slice(0, 10) || \"Not Avaiable\",\n          Hobbies: data[\"Hobbies\"] || \"Not Avaiable\",\n          PresentAddress: data[\"PresentAddress\"] || \"Not Avaiable\"\n        };\n        this.rowDataT.push(temp); // });\n\n        this.setState({\n          rowData: this.rowDataT\n        }); // console.log(\"rowData\",this.state.rowData)\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onPersonalInfoDelete = e => {\n      console.log(e);\n\n      if (window.confirm(\"Are you sure to delete this record? \") == true) {\n        axios.delete(process.env.REACT_APP_API_URL + \"/api/personalInfo/\" + e, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        }).then(res => {\n          this.componentDidMount();\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadPersonalInfoData();\n  }\n\n  renderEditButton(params) {\n    console.log(params);\n\n    if (this.props.back) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 35\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEdit,\n      onClick: () => this.props.onEditPersonalInfo(params.data.data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 12\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"table-outer-div-scroll\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"role-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, \"Employee Personal Details \", this.props.back ? \"of \" + this.props.data[\"FirstName\"] + \" \" + this.props.data[\"LastName\"] : \"\"), this.props.back ? /*#__PURE__*/React.createElement(Link, {\n      to: \"/hr/employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      id: \"add-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, \"Back\")) : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 20\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"clear-both\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }), !this.state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"table-div\",\n      className: \"ag-theme-balham\" //   style={\n      //     {\n      //     height: \"500px\",\n      //     width: \"100%\"\n      //   }\n      // }\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AgGridReact, {\n      columnDefs: this.state.columnDefs,\n      defaultColDef: this.state.defaultColDef,\n      columnTypes: this.state.columnTypes,\n      rowData: this.state.rowData // floatingFilter={true}\n      // onGridReady={this.onGridReady}\n      ,\n      pagination: true,\n      paginationPageSize: 10,\n      getRowHeight: this.state.getRowHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loading-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(RingLoader, {\n      css: override,\n      sizeUnit: \"px\",\n      size: 50,\n      color: \"#0000ff\",\n      loading: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 15\n      }\n    })));\n  }\n\n}\n\nexport default PersonalInfoTable;","map":{"version":3,"sources":["/Users/crocslut/Desktop/Git/aia-frontend-react-fe/src/component/employee/PersonalInfoTable.jsx"],"names":["React","Component","axios","FontAwesomeIcon","faEdit","RingLoader","css","Button","Link","AgGridReact","override","PersonalInfoTable","state","personalInfoData","loading","columnDefs","headerName","field","sortable","width","filter","type","cellRendererFramework","renderEditButton","bind","rowData","defaultColDef","resizable","getRowHeight","params","personalInfoObj","rowDataT","loadPersonalInfoData","get","process","env","REACT_APP_API_URL","props","data","headers","authorization","localStorage","getItem","then","response","console","log","setState","temp","FirstName","MiddleName","LastName","Gender","ContactNo","Email","PANcardNo","DOB","slice","Hobbies","PresentAddress","push","catch","error","onPersonalInfoDelete","e","window","confirm","delete","res","componentDidMount","err","back","onEditPersonalInfo","render","columnTypes"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./PersonalInfoTable.css\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { RingLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\n\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n`;\n\nclass PersonalInfoTable extends Component {\n  state = {\n    personalInfoData: [],\n    loading: true,\n\n    columnDefs: [\n      {\n        headerName: \"First Name\",\n        field: \"FirstName\",\n        sortable: true,\n        // filter: true ,\n        width: 110,\n      },\n      {\n        headerName: \"Middle Name\",\n        field: \"MiddleName\",\n        sortable: true,\n        // filter: true ,\n        width: 130,\n      },\n      {\n        headerName: \"Last Name\",\n        field: \"LastName\",\n        sortable: true,\n        // filter: true ,\n        // width: 150,\n      },\n      {\n        headerName: \"Gender\",\n        field: \"Gender\",\n        sortable: true,\n        width: 90,\n\n        // filter: true ,\n        // width: 150,\n      },\n      {\n        headerName: \"Contact No\",\n        field: \"ContactNo\",\n        sortable: true,\n        // filter: true ,\n        // width: 150,\n      },\n      {\n        headerName: \"Email\",\n        field: \"Email\",\n        sortable: true,\n        // filter: true ,\n        // width: 150,\n      },\n      {\n        headerName: \"PANcard No\",\n        field: \"PANcardNo\",\n        sortable: true,\n        // filter: true ,\n        // width: 150,\n      },\n\n      {\n        headerName: \"DOB\",\n        field: \"DOB\",\n        sortable: true,\n        filter: true,\n        type: [\"dateColumn\"],\n        filter: \"agDateColumnFilter\"\n      },\n      {\n        headerName: \"Hobbies\",\n        field: \"Hobbies\",\n        sortable: true,\n        // filter: true ,\n        // width: 150,\n      },\n      {\n        headerName: \"Present Address\",\n        field: \"PresentAddress\",\n        sortable: true,\n        // filter: true ,\n        width: 150,\n      },\n      {\n        headerName: \"\",\n        field: \"edit\",\n        filter: false,\n        width: 30,\n        // cellRenderer:this.ageCellRendererFunc,\n        // cellRendererFramework: function(params) {\n        //   return <button OnClick={console.log(\"pa\",params)}>Test</button>;\n        // },\n        cellRendererFramework: this.renderEditButton.bind(this),\n\n\n      },\n\n\n    ],\n    rowData: [],\n    defaultColDef: {\n      resizable: true,\n      width: 120,\n      filter: \"agTextColumnFilter\"\n      // filter: true ,\n    },\n    getRowHeight: function (params) {\n      return 35;\n    }\n  };\n  personalInfoObj = [];\n  rowDataT = [];\n  loadPersonalInfoData = () => {\n    axios\n      .get(process.env.REACT_APP_API_URL + \"/api/personal-info/\" + this.props.data[\"_id\"], {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      })\n      .then(response => {\n        this.personalInfoObj = response.data;\n        console.log(\"response\", response.data);\n        this.setState({ personalInfoData: response.data });\n        this.setState({ loading: false });\n        this.rowDataT = [];\n        console.log(\"personalInfoObj\", this.personalInfoObj)\n        // this.personalInfoObj.map(data => {\n        let data = this.personalInfoObj;\n        let temp = {\n          data,\n          FirstName: data[\"FirstName\"] || \"Not Avaiable\",\n          MiddleName: data[\"MiddleName\"] || \"Not Avaiable\",\n          LastName: data[\"LastName\"] || \"Not Avaiable\",\n          Gender: data[\"Gender\"] || \"Not Avaiable\",\n          ContactNo: data[\"ContactNo\"] || \"Not Avaiable\",\n          Email: data[\"Email\"] || \"Not Avaiable\",\n          PANcardNo: data[\"PANcardNo\"] || \"Not Avaiable\",\n          DOB: data[\"DOB\"].slice(0, 10) || \"Not Avaiable\",\n          Hobbies: data[\"Hobbies\"] || \"Not Avaiable\",\n          PresentAddress: data[\"PresentAddress\"] || \"Not Avaiable\",\n\n        };\n\n        this.rowDataT.push(temp);\n        // });\n        this.setState({ rowData: this.rowDataT });\n        // console.log(\"rowData\",this.state.rowData)\n\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onPersonalInfoDelete = e => {\n    console.log(e);\n    if (window.confirm(\"Are you sure to delete this record? \") == true) {\n      axios\n        .delete(process.env.REACT_APP_API_URL + \"/api/personalInfo/\" + e, {\n          headers: {\n            authorization: localStorage.getItem(\"token\") || \"\"\n          }\n        })\n        .then(res => {\n          this.componentDidMount();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  };\n  componentDidMount() {\n    this.loadPersonalInfoData();\n  }\n  renderEditButton(params) {\n    console.log(params);\n    if (this.props.back) { return <React.Fragment /> }\n    return <FontAwesomeIcon\n      icon={faEdit}\n      onClick={() => this.props.onEditPersonalInfo(params.data.data)}\n    />;\n  }\n\n  render() {\n    return (\n      <div id=\"table-outer-div-scroll\">\n        <h2 id=\"role-title\">Employee Personal Details {this.props.back ? \"of \" + this.props.data[\"FirstName\"] + \" \" + this.props.data[\"LastName\"] : \"\"}</h2>\n        {/* \n        <Button\n          variant=\"primary\"\n          id=\"add-button\"\n          onClick={this.props.onAddPersonalInfo}\n        >\n          <FontAwesomeIcon icon={faPlus} id=\"plus-icon\" />\n          Add\n        </Button> */}\n        {this.props.back ? (<Link to=\"/hr/employee\">\n          <Button\n            variant=\"primary\"\n            id=\"add-button\"\n          >\n            Back\n        </Button>\n        </Link>) : <React.Fragment />}\n\n\n        <div id=\"clear-both\" />\n\n        {!this.state.loading ? (\n          <div\n            id=\"table-div\"\n            className=\"ag-theme-balham\"\n          //   style={\n          //     {\n          //     height: \"500px\",\n          //     width: \"100%\"\n          //   }\n          // }\n          >\n            <AgGridReact\n              columnDefs={this.state.columnDefs}\n              defaultColDef={this.state.defaultColDef}\n              columnTypes={this.state.columnTypes}\n              rowData={this.state.rowData}\n              // floatingFilter={true}\n              // onGridReady={this.onGridReady}\n              pagination={true}\n              paginationPageSize={10}\n              getRowHeight={this.state.getRowHeight}\n            />\n          </div>\n        ) : (\n            <div id=\"loading-bar\">\n              <RingLoader\n                css={override}\n                sizeUnit={\"px\"}\n                size={50}\n                color={\"#0000ff\"}\n                loading={true}\n              />\n            </div>\n          )}\n\n\n      </div>\n    );\n  }\n}\n\nexport default PersonalInfoTable;\n"]},"metadata":{},"sourceType":"module"}