{"ast":null,"code":"var _jsxFileName = \"/Users/crocslut/Documents/Git/aia/aia-assessment-nodejs-fe/src/component/employee/PersonalInfo.jsx\";\nimport React, { Component } from \"react\";\nimport \"./PersonalInfo.css\";\nimport axios from \"axios\";\nimport PersonalInfoTable from \"./PersonalInfoTable.jsx\";\nimport PersonalInfoFormEdit from \"./PersonalInfoFormEdit.jsx\";\n\nclass PersonalInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      table: true,\n      editForm: false,\n      editData: {},\n      addFormGender: \"\",\n      editFormGender: \"\"\n    };\n\n    this.handleEditPersonalInfo = e => {\n      console.log(e);\n      console.log(\"clicked6\");\n      this.setState({\n        editForm: true\n      });\n      this.setState({\n        editData: e\n      });\n      this.setState({\n        editFormGender: e[\"Gender\"]\n      });\n    };\n\n    this.handleEditFormClose = () => {\n      console.log(\"clicked5\");\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handlePersonalInfoEditUpdate = (info, newInfo) => {\n      newInfo.preventDefault();\n      console.log(\"zero data\", newInfo.target[0].value);\n      let body = {\n        Gender: this.state.editFormGender,\n        ContactNo: newInfo.target[5].value,\n        EmergencyContactNo: newInfo.target[6].value,\n        Email: newInfo.target[7].value,\n        PANcardNo: newInfo.target[8].value,\n        DOB: newInfo.target[9].value,\n        BloodGroup: newInfo.target[10].value,\n        Hobbies: newInfo.target[11].value,\n        PresentAddress: newInfo.target[12].value,\n        PermanetAddress: newInfo.target[13].value\n      };\n      console.log(\"update\", body);\n      axios.put(process.env.REACT_APP_API_URL + \"/api/personal-info/\" + info[\"_id\"], body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleEditFormGenderChange = e => {\n      // console.log(e.currentTarget.value);\n      // console.log(\"ggggggggggggggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeennnnnnnnnnnnnnnnnnnnnnnnn\")\n      this.setState({\n        editFormGender: e.currentTarget.value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 7\n      }\n    }, this.state.table ? this.state.editForm ? /*#__PURE__*/React.createElement(PersonalInfoFormEdit, {\n      onPersonalInfoEditUpdate: this.handlePersonalInfoEditUpdate,\n      onFormEditClose: this.handleEditFormClose,\n      editData: this.state.editData,\n      onGenderChange: this.handleEditFormGenderChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(PersonalInfoTable, {\n      onAddPersonalInfo: this.handleAddPersonalInfo,\n      onEditPersonalInfo: this.handleEditPersonalInfo,\n      data: this.props.data,\n      back: this.props.back,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default PersonalInfo;","map":{"version":3,"sources":["/Users/crocslut/Documents/Git/aia/aia-assessment-nodejs-fe/src/component/employee/PersonalInfo.jsx"],"names":["React","Component","axios","PersonalInfoTable","PersonalInfoFormEdit","PersonalInfo","state","table","editForm","editData","addFormGender","editFormGender","handleEditPersonalInfo","e","console","log","setState","handleEditFormClose","handlePersonalInfoEditUpdate","info","newInfo","preventDefault","target","value","body","Gender","ContactNo","EmergencyContactNo","Email","PANcardNo","DOB","BloodGroup","Hobbies","PresentAddress","PermanetAddress","put","process","env","REACT_APP_API_URL","headers","authorization","localStorage","getItem","then","res","catch","err","handleEditFormGenderChange","currentTarget","render","handleAddPersonalInfo","props","data","back"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./PersonalInfo.css\";\nimport axios from \"axios\";\nimport PersonalInfoTable from \"./PersonalInfoTable.jsx\";\nimport PersonalInfoFormEdit from \"./PersonalInfoFormEdit.jsx\";\nclass PersonalInfo extends Component {\n  state = {\n    table: true,\n    editForm: false,\n    editData: {},\n    addFormGender: \"\",\n    editFormGender: \"\"\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n\n        {this.state.table ? (\n          this.state.editForm ? (\n            <PersonalInfoFormEdit\n              onPersonalInfoEditUpdate={this.handlePersonalInfoEditUpdate}\n              onFormEditClose={this.handleEditFormClose}\n              editData={this.state.editData}\n              onGenderChange={this.handleEditFormGenderChange}\n            />\n          ) : (\n              <PersonalInfoTable\n                onAddPersonalInfo={this.handleAddPersonalInfo}\n                onEditPersonalInfo={this.handleEditPersonalInfo}\n                data={this.props.data}\n                back={this.props.back}\n              />\n            )\n        ) : (\n            <div />\n          )}\n      </React.Fragment>\n    );\n  }\n  handleEditPersonalInfo = e => {\n    console.log(e);\n    console.log(\"clicked6\");\n    this.setState({ editForm: true });\n    this.setState({ editData: e });\n    this.setState({ editFormGender: e[\"Gender\"] });\n  };\n  handleEditFormClose = () => {\n    console.log(\"clicked5\");\n    this.setState({ editForm: false });\n  };\n  handlePersonalInfoEditUpdate = (info, newInfo) => {\n    newInfo.preventDefault();\n    console.log(\"zero data\", newInfo.target[0].value);\n    let body = {\n      Gender: this.state.editFormGender,\n      ContactNo: newInfo.target[5].value,\n      EmergencyContactNo: newInfo.target[6].value,\n      Email: newInfo.target[7].value,\n      PANcardNo: newInfo.target[8].value,\n      DOB: newInfo.target[9].value,\n      BloodGroup: newInfo.target[10].value,\n      Hobbies: newInfo.target[11].value,\n      PresentAddress: newInfo.target[12].value,\n      PermanetAddress: newInfo.target[13].value\n    };\n    console.log(\"update\", body);\n    axios\n      .put(process.env.REACT_APP_API_URL + \"/api/personal-info/\" + info[\"_id\"], body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      })\n      .then(res => {\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.setState({ editForm: false });\n  };\n  handleEditFormGenderChange = e => {\n    // console.log(e.currentTarget.value);\n    // console.log(\"ggggggggggggggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeennnnnnnnnnnnnnnnnnnnnnnnn\")\n    this.setState({\n      editFormGender: e.currentTarget.value\n    });\n  };\n}\n\nexport default PersonalInfo;\n"]},"metadata":{},"sourceType":"module"}